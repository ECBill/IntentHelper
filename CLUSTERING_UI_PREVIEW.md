# 语义聚类UI界面预览

## 界面截图说明

### 1. 图谱维护标签页 - "整理图谱"按钮

```
┌─────────────────────────────────────────────────────────────────┐
│  知识图谱调试工具                                    [刷新] [x]    │
├─────────────────────────────────────────────────────────────────┤
│  数据浏览 | 图谱维护 | 数据验证 | 图谱清理 | 事件向量查询 | 聚类管理 │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  手动整理知识图谱                                                │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ ⓘ 当对话意外结束时，可以手动整理指定日期范围内的对话记录到  │   │
│  │   知识图谱中                                             │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  选择日期范围：                                                  │
│  ┌──────────────────┐  ┌──────────────────┐                   │
│  │ 📅 开始日期        │  │ 📅 结束日期        │                   │
│  │ 2024-01-15       │  │ 2024-02-15       │                   │
│  └──────────────────┘  └──────────────────┘                   │
│                                                                 │
│  快速选择：                                                      │
│  [今天] [最近3天] [最近一周] [最近一月]                          │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 预计处理：                                               │   │
│  │ • 对话记录：156 条                                        │   │
│  │ • 预计Token消耗：约 45000 tokens                          │   │
│  │ • 处理时间：约 8 分钟                                     │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌──────────────────────┐  ┌──────────────────────┐           │
│  │ 🔧 开始整理           │  │ 🔍 查找未处理         │           │
│  └──────────────────────┘  └──────────────────────┘           │
│                                                                 │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │ 🧠 为所有事件生成向量                                     │  │
│  └──────────────────────────────────────────────────────────┘  │
│                                                                 │
│  ┌──────────────────────────────────────────────────────────┐  │
│  │ ✨ 整理图谱（语义聚类）                      ⭐ 新增功能    │  │
│  └──────────────────────────────────────────────────────────┘  │
│                                                                 │
│  处理结果：                                                      │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 🔄 开始语义聚类...                                        │   │
│  │ 找到 48 个候选事件                                        │   │
│  │ 正在聚类...                                               │   │
│  │ 生成了 7 个聚类                                           │   │
│  │ 生成聚类摘要 1/7...                                       │   │
│  │ 生成聚类摘要 2/7...                                       │   │
│  │ ...                                                      │   │
│  │ 保存聚类结果...                                           │   │
│  │ 聚类完成！耗时 12 秒                                      │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 2. 聚类完成对话框

```
┌─────────────────────────────────────────┐
│  ✅ 聚类完成                              │
├─────────────────────────────────────────┤
│                                         │
│  创建聚类: 7 个                          │
│  处理事件: 48 个                         │
│  已聚类事件: 30 个                       │
│  平均聚类大小: 4.3 个                    │
│  平均相似度: 0.89                        │
│  耗时: 12 秒                             │
│                                         │
├─────────────────────────────────────────┤
│           [关闭]    [查看聚类]           │
└─────────────────────────────────────────┘
```

### 3. 聚类管理标签页 - 完整视图

```
┌─────────────────────────────────────────────────────────────────┐
│  知识图谱调试工具                                    [刷新] [x]    │
├─────────────────────────────────────────────────────────────────┤
│  数据浏览 | 图谱维护 | 数据验证 | 图谱清理 | 事件向量查询 | 聚类管理 │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 📊 聚类统计                                              │   │
│  │ ┌──────────┐  ┌──────────┐  ┌──────────┐              │   │
│  │ │ 🗂️ 7    │  │ 👥 4.3   │  │ 📅 30    │              │   │
│  │ │ 聚类总数  │  │ 平均大小  │  │ 事件总数  │              │   │
│  │ └──────────┘  └──────────┘  └──────────┘              │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 🗂️ 深度学习相关研究 (4个)                        [v]     │   │
│  │                                                         │   │
│  │ 包含 4 个相关事件：学习(2个)、讨论(2个)                  │   │
│  │ 📅 01/15 - 02/03  📊 相似度: 0.91                       │   │
│  ├─────────────────────────────────────────────────────────┤   │
│  │ 聚类成员 (4个)                                           │   │
│  │                                                         │   │
│  │ 📄 讨论神经网络基础概念                                  │   │
│  │    学习 • 2024-01-15                                    │   │
│  │                                                         │   │
│  │ 📄 学习卷积神经网络                                      │   │
│  │    学习 • 2024-01-20                                    │   │
│  │                                                         │   │
│  │ 📄 研究注意力机制                                        │   │
│  │    讨论 • 2024-01-27                                    │   │
│  │                                                         │   │
│  │ 📄 阅读Transformer论文                                  │   │
│  │    学习 • 2024-02-03                                    │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 🗂️ 项目会议记录 (5个)                            [>]     │   │
│  │                                                         │   │
│  │ 包含 5 个相关事件：会议(5个)                             │   │
│  │ 📅 01/10 - 02/05  📊 相似度: 0.88                       │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 🗂️ 咖啡厅日常 (3个)                              [>]     │   │
│  │                                                         │   │
│  │ 包含 3 个相关事件：生活(3个)                             │   │
│  │ 📅 01/18 - 02/01  📊 相似度: 0.87                       │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 🗂️ 健身计划讨论 (3个)                            [>]     │   │
│  │                                                         │   │
│  │ 包含 3 个相关事件：计划(2个)、讨论(1个)                  │   │
│  │ 📅 01/22 - 02/08  📊 相似度: 0.86                       │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  [更多聚类...]                                                  │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 4. 事件向量查询 - 包含聚类结果

```
┌─────────────────────────────────────────────────────────────────┐
│  知识图谱调试工具                                    [刷新] [x]    │
├─────────────────────────────────────────────────────────────────┤
│  数据浏览 | 图谱维护 | 数据验证 | 图谱清理 | 事件向量查询 | 聚类管理 │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  事件向量查询                                                    │
│                                                                 │
│  ┌───────────────────────────────────────────────────────┐     │
│  │ 输入一段话，匹配相关事件                        [🔍]  │     │
│  │ 机器学习                                            │     │
│  └───────────────────────────────────────────────────────┘     │
│                                                                 │
│  查询结果：                                                      │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 🗂️ 深度学习相关研究 (4个)              相似度: 0.92      │   │
│  │ 学习 • 01/15 - 02/03                               [>]  │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 📄 机器学习算法对比分析                  相似度: 0.85      │   │
│  │ 研究 • 02/10 14:30                                      │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 🗂️ AI技术讨论 (3个)                    相似度: 0.78      │   │
│  │ 讨论 • 01/20 - 02/05                               [>]  │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │ 📄 Python机器学习库使用                  相似度: 0.72      │   │
│  │ 学习 • 02/08 16:45                                      │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 5. 聚类卡片展开动画

**折叠状态：**
```
┌─────────────────────────────────────────────────────────┐
│ 🗂️ 深度学习相关研究 (4个)                        [>]     │
│                                                         │
│ 包含 4 个相关事件：学习(2个)、讨论(2个)                  │
│ 📅 01/15 - 02/03  📊 相似度: 0.91                       │
└─────────────────────────────────────────────────────────┘
```

**点击展开 ↓**

```
┌─────────────────────────────────────────────────────────┐
│ 🗂️ 深度学习相关研究 (4个)                        [v]     │
│                                                         │
│ 包含 4 个相关事件：学习(2个)、讨论(2个)                  │
│ 📅 01/15 - 02/03  📊 相似度: 0.91                       │
├─────────────────────────────────────────────────────────┤
│ ℹ️ 聚类成员 (4个)                                        │
│                                                         │
│ 📄 讨论神经网络基础概念                                  │
│    学习 • 2024-01-15                                    │
│                                                         │
│ 📄 学习卷积神经网络                                      │
│    学习 • 2024-01-20                                    │
│                                                         │
│ 📄 研究注意力机制                                        │
│    讨论 • 2024-01-27                                    │
│                                                         │
│ 📄 阅读Transformer论文                                  │
│    学习 • 2024-02-03                                    │
└─────────────────────────────────────────────────────────┘
```

### 6. 配色方案

```
聚类卡片:
- 背景色: Colors.teal[50] / #E0F2F1
- 边框色: Colors.teal[200] / #80CBC4
- 图标色: Colors.teal[700] / #00897B

统计面板:
- 背景色: Colors.teal[50] / #E0F2F1
- 图标色: 
  • 聚类总数: Colors.teal
  • 平均大小: Colors.blue
  • 事件总数: Colors.orange

事件类型色:
- 学习: Colors.purple[100]
- 讨论: Colors.orange[100]
- 会议: Colors.blue[50]
- 生活: Colors.pink[50]
- 计划: Colors.indigo[50]
```

### 7. 交互提示

**鼠标悬停效果：**
```
┌─────────────────────────────────────────────────────────┐
│ 🗂️ 深度学习相关研究 (4个)                [>] 👆 点击展开  │
└─────────────────────────────────────────────────────────┘
       ↑ 鼠标悬停时高亮显示
```

**点击事件卡片：**
```
📄 讨论神经网络基础概念  👆 点击查看详情
   学习 • 2024-01-15
```

### 8. 空状态提示

```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│                    🗂️                                        │
│                                                             │
│                 暂无聚类                                      │
│                                                             │
│      点击"图谱维护"标签页中的"整理图谱"按钮创建聚类          │
│                                                             │
│                 [前往整理]                                   │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 9. 加载状态

```
┌─────────────────────────────────────────────────────────┐
│                                                         │
│                   ⏳ 正在加载聚类...                     │
│                                                         │
│                   ●●●●●●○○○○                           │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

### 10. 聚类进度实时更新

```
┌─────────────────────────────────────────────────────────┐
│  整理进度                                                │
├─────────────────────────────────────────────────────────┤
│  🔄 开始语义聚类...                                      │
│  ✅ 找到 48 个候选事件                                   │
│  🔄 正在聚类...                                          │
│  ✅ 生成了 7 个聚类                                      │
│  🔄 生成聚类摘要 1/7...                                  │
│  🔄 生成聚类摘要 2/7...                                  │
│  🔄 生成聚类摘要 3/7...                                  │
│                                                         │
│  ████████████████████░░░░░░░░ 60%                       │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

## 视觉特点

1. **清晰的层次结构**: 统计面板 → 聚类列表 → 成员事件
2. **一致的配色**: 使用teal色系表示聚类相关功能
3. **丰富的图标**: 使用emoji和Material Icons增强可读性
4. **流畅的动画**: 展开/折叠过渡效果
5. **实时反馈**: 进度条、状态提示、加载动画
6. **响应式设计**: 适配不同屏幕尺寸（使用ScreenUtil）

## 用户体验亮点

1. **即时反馈**: 每个操作都有明确的视觉反馈
2. **进度可见**: 聚类过程实时显示进度
3. **信息丰富**: 统计数据、元数据一目了然
4. **交互友好**: 点击、展开、查看详情流程顺畅
5. **错误提示**: 清晰的错误信息和解决建议
